(function(e){function a(a){for(var n,r,i=a[0],o=a[1],p=a[2],c=0,u=[];c<i.length;c++)r=i[c],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&u.push(l[r][0]),l[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);d&&d(a);while(u.length)u.shift()();return s.push.apply(s,p||[]),t()}function t(){for(var e,a=0;a<s.length;a++){for(var t=s[a],n=!0,i=1;i<t.length;i++){var o=t[i];0!==l[o]&&(n=!1)}n&&(s.splice(a--,1),e=r(r.s=t[0]))}return e}var n={},l={app:0},s=[];function r(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=n,r.d=function(e,a,t){r.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,a){if(1&a&&(e=r(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)r.d(t,n,function(a){return e[a]}.bind(null,n));return t},r.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(a,"a",a),a},r.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},r.p="/prtcv/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=a,i=i.slice();for(var p=0;p<i.length;p++)a(i[p]);var d=o;s.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"04d9":function(e,a,t){},"27a2":function(e,a,t){"use strict";var n=t("914f"),l=t.n(n);l.a},"32fc":function(e,a,t){e.exports=t.p+"img/cats.05eaeb41.png"},"4b71":function(e,a,t){},"56d7":function(e,a,t){"use strict";t.r(a);t("e260"),t("e6cf"),t("cca6"),t("a79d");var n=t("2b0e"),l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"app"}},[t("el-col",{attrs:{xl:{offset:4,span:16},lg:{offset:2,span:20},sm:{offset:1,span:22},xs:{offset:0,span:24}}},[t("el-container",[t("el-header",[t("b",[e._v("SIUP")])]),t("el-container",[t("CVApp")],1)],1)],1)],1)},s=[],r=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"main"},[n("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"Loading OpenCV..."}},[e.hiddenAside?e._e():n("el-aside",{attrs:{width:"230px"}},[n("CVPanelsEdit",{model:{value:e.panels,callback:function(a){e.panels=a},expression:"panels"}})],1),n("el-main",[e.hiddenAside?n("el-row",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"text"},on:{click:function(a){e.hiddenAsideVisible=!0}}},[e._v(" EDIT COMPONENTS ")]),n("el-drawer",{attrs:{direction:"ltr",size:"230px",visible:e.hiddenAsideVisible,"with-header":!1},on:{"update:visible":function(a){e.hiddenAsideVisible=a}}},[n("CVPanelsEdit",{model:{value:e.panels,callback:function(a){e.panels=a},expression:"panels"}})],1)],1):e._e(),n("el-row",[n("el-col",{attrs:{span:3}},[n("el-switch",{attrs:{"active-value":12,"inactive-value":0},model:{value:e.srcImageCol,callback:function(a){e.srcImageCol=a},expression:"srcImageCol"}})],1),n("el-col",{attrs:{span:18}},[n("div",{staticClass:"image"},[n("el-popover",{attrs:{placement:"bottom",title:"Load image",width:"300",trigger:"hover"}},[n("input",{attrs:{type:"file",id:"file",name:"files",accept:"image/*"},on:{change:e.selectIMG}}),n("el-tag",{staticClass:"button",attrs:{slot:"reference",effect:"dark",type:"success",size:"mini"},slot:"reference"},[n("i",{staticClass:"el-icon-upload2"})])],1),n("el-tag",{attrs:{effect:"dark",size:"mini"}},[e._v("SRC "),n("i",{staticClass:"el-icon-caret-right"})]),e._l(e.panels,(function(a){return n("el-tag",{key:a.id,attrs:{size:"mini"}},[e._v(e._s(a.type)+" "),n("i",{staticClass:"el-icon-caret-right"})])})),n("el-tag",{attrs:{effect:"dark",size:"mini"}},[e._v("OUT")]),n("a",{attrs:{download:"output.png",href:e.saveIMGurl()}},[n("el-tag",{staticClass:"button",attrs:{effect:"dark",type:"success",size:"mini"}},[n("i",{staticClass:"el-icon-download"})])],1)],2)]),n("el-col",{attrs:{span:3}})],1),n("el-row",[n("el-col",{attrs:{hidden:!Boolean(e.srcImageCol),span:e.srcImageCol}},[n("img",{ref:"img",staticClass:"center",attrs:{src:t("32fc")}})]),n("el-col",{attrs:{span:24-e.srcImageCol}},[n("canvas",{ref:"dstimg",staticClass:"center",attrs:{id:"dstimg"}})])],1)],1)],1)],1)},i=[],o=(t("99af"),t("d3b7"),t("3ca3"),t("18a5"),t("ddb0"),t("2b3d"),t("b85c")),p=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-container",{attrs:{direction:"vertical"}},[t("el-main",[e._l(e.panels,(function(a,n){return t("p",{key:n},[t("el-button-group",[t("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.remove(n)}}}),t("el-button",{attrs:{type:"info",size:"mini",disabled:n==e.panels.length-1,icon:"el-icon-arrow-down"},on:{click:function(a){return e.down(n)}}}),t("el-button",{attrs:{type:"info",size:"mini",disabled:0==n,icon:"el-icon-arrow-up"},on:{click:function(a){return e.up(n)}}}),e.panelVisibleIdx===n?[t("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.panelVisibleIdx=null}}},[e._v(e._s(a.type))])]:[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.panelVisibleIdx=n}}},[e._v(e._s(a.type))])]],2)],1)})),t("p",[t("CVPanelAddDialog",{model:{value:e.panels,callback:function(a){e.panels=a},expression:"panels"}})],1)],2),null!==e.panelVisibleIdx?t("el-footer",[t("el-divider",{attrs:{"content-position":"left"}},[e._v("Edit component")]),e._l(e.panels,(function(a,n){return t("p",{key:n},[e.panelVisibleIdx===n?["BLUR"===a.type?t("CVEditBlur",{model:{value:a.params,callback:function(t){e.$set(a,"params",t)},expression:"panel.params"}}):"CANNY"===a.type?t("CVEditCanny",{model:{value:a.params,callback:function(t){e.$set(a,"params",t)},expression:"panel.params"}}):"COLOR"===a.type?t("CVEditColor",{model:{value:a.params,callback:function(t){e.$set(a,"params",t)},expression:"panel.params"}}):"DILATE"===a.type||"ERODE"===a.type?t("CVEditErodeDilate",{model:{value:a.params,callback:function(t){e.$set(a,"params",t)},expression:"panel.params"}}):"SOBEL"===a.type?t("CVEditSobel",{model:{value:a.params,callback:function(t){e.$set(a,"params",t)},expression:"panel.params"}}):"THRESH"===a.type?t("CVEditThresh",{model:{value:a.params,callback:function(t){e.$set(a,"params",t)},expression:"panel.params"}}):e._e()]:e._e()],2)}))],2):e._e()],1)],1)},d=[],c=(t("a434"),function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("Kernel size:")]),t("p",[t("el-input-number",{attrs:{min:1,max:10},model:{value:e.params.ksize[0],callback:function(a){e.$set(e.params.ksize,0,a)},expression:"params.ksize[0]"}}),t("el-input-number",{attrs:{min:1,max:10},model:{value:e.params.ksize[1],callback:function(a){e.$set(e.params.ksize,1,a)},expression:"params.ksize[1]"}})],1),t("p",[e._v("Anchor:")]),t("p",[t("el-input-number",{attrs:{min:-1,max:10},model:{value:e.params.anchor[0],callback:function(a){e.$set(e.params.anchor,0,a)},expression:"params.anchor[0]"}}),t("el-input-number",{attrs:{min:-1,max:10},model:{value:e.params.anchor[1],callback:function(a){e.$set(e.params.anchor,1,a)},expression:"params.anchor[1]"}})],1),t("p",[e._v("Border type:")]),t("el-select",{model:{value:e.params.borderType,callback:function(a){e.$set(e.params,"borderType",a)},expression:"params.borderType"}},e._l(e.borderTypes,(function(e){return t("el-option",{key:e.text,attrs:{value:e.value,label:e.text}})})),1)],1)}),u=[],m={name:"CVEditBlur",model:{prop:"params",event:"change"},props:{params:Object,visible:{type:Boolean,default:!1,required:!1}},data:function(){return{borderTypes:[{text:"Default",value:window.cv.BORDER_DEFAULT},{text:"Replicate",value:window.cv.BORDER_REPLICATE}]}}},f=m,v=(t("9fd3"),t("2877")),h=Object(v["a"])(f,c,u,!1,null,"0e21568f",null),b=h.exports,y=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("Threshold 1:")]),t("el-slider",{attrs:{"show-input":"",min:0,max:255},model:{value:e.params.threshold1,callback:function(a){e.$set(e.params,"threshold1",e._n(a))},expression:"params.threshold1"}}),t("p",[e._v("Threshold 2:")]),t("el-slider",{attrs:{"show-input":"",min:0,max:255},model:{value:e.params.threshold2,callback:function(a){e.$set(e.params,"threshold2",e._n(a))},expression:"params.threshold2"}}),t("p",[e._v("Aperture size:")]),t("el-input-number",{attrs:{min:1,max:10},model:{value:e.params.apertureSize,callback:function(a){e.$set(e.params,"apertureSize",a)},expression:"params.apertureSize"}}),t("p",[e._v("Edge gradient:")]),t("el-select",{model:{value:e.params.L2gradient,callback:function(a){e.$set(e.params,"L2gradient",a)},expression:"params.L2gradient"}},e._l(e.typeValues,(function(e){return t("el-option",{key:e.text,attrs:{value:e.value,label:e.text}})})),1),!0===e.visible?t("p",[t("el-button",{on:{click:function(a){return e.$emit("update:visible",!1)}}},[e._v("Cancel")])],1):e._e()],1)},x=[],g={name:"CVEditCanny",model:{prop:"params",event:"change",size:"mini"},props:{params:Object,visible:{type:Boolean,default:!1,required:!1}},data:function(){return{typeValues:[{text:"|Gx|+|Gy|",value:!1},{text:"sqrt(Gx2 + Gy2)",value:!0}]}}},k=g,_=(t("83ab7"),Object(v["a"])(k,y,x,!1,null,"8801c930",null)),C=_.exports,E=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("Type:")]),t("el-select",{attrs:{"default-first-option":!0},model:{value:e.params.type,callback:function(a){e.$set(e.params,"type",a)},expression:"params.type"}},e._l(e.typeValues,(function(e){return t("el-option",{key:e.text,attrs:{value:e.value,label:e.text}})})),1)],1)},A=[],T={name:"CVEditColor",model:{prop:"params",event:"change"},props:{params:Object},data:function(){return{typeValues:[{text:"BRG > GRAY",value:window.cv.COLOR_RGBA2GRAY},{text:"GRAY > BRG",value:window.cv.COLOR_GRAY2RGBA}]}}},V=T,O=Object(v["a"])(V,E,A,!1,null,"284ba2ea",null),w=O.exports,R=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("Kernel size:")]),t("p",[t("el-input-number",{attrs:{min:1,max:10},model:{value:e.params.kernel[0],callback:function(a){e.$set(e.params.kernel,0,a)},expression:"params.kernel[0]"}}),t("el-input-number",{attrs:{min:1,max:10},model:{value:e.params.kernel[1],callback:function(a){e.$set(e.params.kernel,1,a)},expression:"params.kernel[1]"}})],1),t("p",[e._v("Anchor:")]),t("p",[t("el-input-number",{attrs:{min:-1,max:10},model:{value:e.params.anchor[0],callback:function(a){e.$set(e.params.anchor,0,a)},expression:"params.anchor[0]"}}),t("el-input-number",{attrs:{min:-1,max:10},model:{value:e.params.anchor[1],callback:function(a){e.$set(e.params.anchor,1,a)},expression:"params.anchor[1]"}})],1),t("p",[e._v("Iterations:")]),t("el-input-number",{attrs:{min:1,max:10},model:{value:e.params.iterations,callback:function(a){e.$set(e.params,"iterations",a)},expression:"params.iterations"}}),t("p",[e._v("Border type:")]),t("el-select",{model:{value:e.params.borderType,callback:function(a){e.$set(e.params,"borderType",a)},expression:"params.borderType"}},e._l(e.borderTypes,(function(e){return t("el-option",{key:e.text,attrs:{value:e.value,label:e.text}})})),1)],1)},$=[],I={name:"CVEditErodeDilate",model:{prop:"params",event:"change"},props:{params:Object,visible:{type:Boolean,default:!1,required:!1}},data:function(){return{borderTypes:[{text:"Constant",value:window.cv.BORDER_CONSTANT},{text:"Default",value:window.cv.BORDER_DEFAULT},{text:"Replicate",value:window.cv.BORDER_REPLICATE}]}}},z=I,P=(t("27a2"),Object(v["a"])(z,R,$,!1,null,"1fadd45c",null)),S=P.exports,B=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("Order of the derivative x:")]),t("el-input-number",{attrs:{"show-input":"",min:0,max:2},model:{value:e.params.dx,callback:function(a){e.$set(e.params,"dx",e._n(a))},expression:"params.dx"}}),t("p",[e._v("Order of the derivative y:")]),t("el-input-number",{attrs:{min:0,max:2},model:{value:e.params.dy,callback:function(a){e.$set(e.params,"dy",a)},expression:"params.dy"}}),t("p",[e._v("Kernel size:")]),t("el-select",{model:{value:e.params.ksize,callback:function(a){e.$set(e.params,"ksize",a)},expression:"params.ksize"}},e._l(e.kernelValues,(function(e){return t("el-option",{key:e.text,attrs:{value:e.value,label:e.text}})})),1),t("p",[e._v("Scale factor:")]),t("el-input-number",{attrs:{min:1,max:10},model:{value:e.params.scale,callback:function(a){e.$set(e.params,"scale",a)},expression:"params.scale"}}),t("p",[e._v("Delta:")]),t("el-input-number",{attrs:{min:0,max:10},model:{value:e.params.delta,callback:function(a){e.$set(e.params,"delta",a)},expression:"params.delta"}}),t("p",[e._v("Output depth:")]),t("el-select",{model:{value:e.params.ddepth,callback:function(a){e.$set(e.params,"ddepth",a)},expression:"params.ddepth"}},e._l(e.ddepthValues,(function(e){return t("el-option",{key:e.text,attrs:{value:e.value,label:e.text}})})),1),t("p",[e._v("Border type:")]),t("el-select",{model:{value:e.params.borderType,callback:function(a){e.$set(e.params,"borderType",a)},expression:"params.borderType"}},e._l(e.borderTypes,(function(e){return t("el-option",{key:e.text,attrs:{value:e.value,label:e.text}})})),1),!0===e.visible?t("p",[t("el-button",{on:{click:function(a){return e.$emit("update:visible",!1)}}},[e._v("Cancel")])],1):e._e()],1)},D=[],L={name:"CVEditSobel",model:{prop:"params",event:"change",size:"mini"},props:{params:Object,visible:{type:Boolean,default:!1,required:!1}},data:function(){return{kernelValues:[{text:"1",value:1},{text:"3",value:3},{text:"5",value:5},{text:"7",value:7}],ddepthValues:[{text:"8U",value:window.cv.CV_8U}],borderTypes:[{text:"Default",value:window.cv.BORDER_DEFAULT}]}}},j=L,G=(t("d002"),Object(v["a"])(j,B,D,!1,null,"bf379086",null)),M=G.exports,N=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("Threshold:")]),t("el-slider",{attrs:{size:"mini","show-input":"",min:0,max:255},model:{value:e.params.thresh,callback:function(a){e.$set(e.params,"thresh",e._n(a))},expression:"params.thresh"}}),t("p",[e._v("Max Value:")]),t("el-slider",{attrs:{"show-input":"",min:0,max:255},model:{value:e.params.maxval,callback:function(a){e.$set(e.params,"maxval",e._n(a))},expression:"params.maxval"}}),t("p",[e._v("Type:")]),t("el-select",{model:{value:e.params.type,callback:function(a){e.$set(e.params,"type",a)},expression:"params.type"}},e._l(e.typeValues,(function(e){return t("el-option",{key:e.text,attrs:{value:e.value,label:e.text}})})),1),!0===e.visible?t("p",[t("el-button",{on:{click:function(a){return e.$emit("update:visible",!1)}}},[e._v("Cancel")])],1):e._e()],1)},U=[],H={name:"CVEditThresh",model:{prop:"params",event:"change"},props:{params:Object,visible:{type:Boolean,default:!1,required:!1}},data:function(){return{typeValues:[{text:"Binary",value:window.cv.THRESH_BINARY},{text:"Binary Inv",value:window.cv.THRESH_BINARY_INV}]}}},Y=H,q=Object(v["a"])(Y,N,U,!1,null,"4fa1d22c",null),F=q.exports,J=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-button",{staticClass:"menu",attrs:{type:"success"},on:{click:function(a){e.dialogVisible=!0}}},[t("i",{staticClass:"el-icon-plus"})]),t("el-dialog",{attrs:{title:"Add panel",visible:e.dialogVisible},on:{"update:visible":function(a){e.dialogVisible=a}}},[t("el-select",{attrs:{"default-first-option":!0},model:{value:e.panelAddedType,callback:function(a){e.panelAddedType=a},expression:"panelAddedType"}},e._l(e.panelTypes,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1),"BLUR"===e.panelAddedType?t("CVEditBlur",{model:{value:e.panelAddedParams,callback:function(a){e.panelAddedParams=a},expression:"panelAddedParams"}}):"CANNY"===e.panelAddedType?t("CVEditCanny",{model:{value:e.panelAddedParams,callback:function(a){e.panelAddedParams=a},expression:"panelAddedParams"}}):"COLOR"===e.panelAddedType?t("CVEditColor",{model:{value:e.panelAddedParams,callback:function(a){e.panelAddedParams=a},expression:"panelAddedParams"}}):"DILATE"===e.panelAddedType||"ERODE"===e.panelAddedType?t("CVEditErodeDilate",{model:{value:e.panelAddedParams,callback:function(a){e.panelAddedParams=a},expression:"panelAddedParams"}}):"SOBEL"===e.panelAddedType?t("CVEditSobel",{model:{value:e.panelAddedParams,callback:function(a){e.panelAddedParams=a},expression:"panelAddedParams"}}):"THRESH"===e.panelAddedType?t("CVEditThresh",{model:{value:e.panelAddedParams,callback:function(a){e.panelAddedParams=a},expression:"panelAddedParams"}}):e._e(),t("p",[t("el-button",{attrs:{type:"danger"},on:{click:function(a){e.dialogVisible=!1}}},[e._v("Cancel")]),t("el-button",{attrs:{type:"success"},on:{click:e.add}},[e._v("Add")])],1)],1)],1)},K=[],W=(t("dca8"),Object.freeze({panelTemplates:[{type:"BLUR",params:{ksize:[3,3],anchor:[-1,-1],borderType:4}},{type:"CANNY",params:{threshold1:50,threshold2:100,apertureSize:3,L2gradient:!1}},{type:"COLOR",params:{type:11}},{type:"DILATE",params:{kernel:[5,5],anchor:[-1,-1],iterations:1,borderType:0}},{type:"ERODE",params:{kernel:[5,5],anchor:[-1,-1],iterations:1,borderType:0}},{type:"SOBEL",params:{ddepth:0,dx:1,dy:0,ksize:3,scale:1,delta:0,borderType:4}},{type:"THRESH",params:{thresh:100,maxval:255,type:0}}]})),Q={name:"CVPanelAddDialog",components:{CVEditBlur:b,CVEditCanny:C,CVEditColor:w,CVEditErodeDilate:S,CVEditSobel:M,CVEditThresh:F},model:{prop:"panels",event:"change"},props:{panels:Array},data:function(){return{dialogVisible:!1,panelTemplates:W.panelTemplates,panelTypes:[],panelAddedType:"",panelAddedParams:{},panelAddedAccept:!1}},methods:{add:function(){var e={};Object.assign(e,{type:this.panelAddedType,params:this.panelAddedParams,visible:!1}),this.panels.push(e),this.dialogVisible=!1,this.panelAddedParams={},this.panelAddedType=""}},watch:{panelAddedType:function(e,a){if(a!=e){this.panelAddedParams={};var t,n=Object(o["a"])(W.panelTemplates);try{for(n.s();!(t=n.n()).done;){var l=t.value;l.type===this.panelAddedType&&(this.panelAddedParams=JSON.parse(JSON.stringify(l.params)))}}catch(s){n.e(s)}finally{n.f()}}}},mounted:function(){var e,a=Object(o["a"])(W.panelTemplates);try{for(a.s();!(e=a.n()).done;){var t=e.value;this.panelTypes.push(t.type)}}catch(n){a.e(n)}finally{a.f()}}},X=Q,Z=(t("aa94"),Object(v["a"])(X,J,K,!1,null,"46c302f5",null)),ee=Z.exports,ae={name:"CVPanelsEdit",components:{CVEditBlur:b,CVEditCanny:C,CVEditColor:w,CVEditErodeDilate:S,CVEditSobel:M,CVEditThresh:F,CVPanelAddDialog:ee},model:{prop:"panels",event:"change"},data:function(){return{panelVisibleIdx:null}},computed:{editActive:function(){return null!==this.panelVisibleIdx&&!(this.panelVisibleIdx>this.panels.length-1)}},props:{panels:Array},methods:{up:function(e){if(0!==e){var a=[this.panels[e],this.panels[e-1]];this.panels.splice(e-1,2,a[0],a[1])}},down:function(e){if(e!==this.panels.length-1){var a=[this.panels[e],this.panels[e+1]];this.panels.splice(e,2,a[1],a[0])}},remove:function(e){this.panels.splice(e,1)}}},te=ae,ne=(t("f27f"),Object(v["a"])(te,p,d,!1,null,"731f796d",null)),le=ne.exports,se=t("5c96"),re=t.n(se),ie={name:"CVApp",components:{CVPanelsEdit:le},props:{},data:function(){return{panelTemplates:W.panelTemplates,panels:[],timerSet:!1,timerValueChanged:!1,timerValue:500,srcImageCol:12,loading:!0,hiddenAside:!1,hiddenAsideVisible:!1}},watch:{srcImageCol:{handler:function(e,a){e>a||this.processIMGschedule()}},panels:{handler:function(){this.processIMGschedule()},deep:!0}},methods:{selectIMG:function(e){var a=e.target.files;a.length&&(this.imgurl=URL.createObjectURL(a[0]),"undefined"!==typeof this.imgurl&&(this.$refs.img.onload=this.processIMG,this.$refs.img.src=this.imgurl))},saveIMGurl:function(){if("undefined"===typeof this.$refs.dstimg)return"#";var e=this.$refs.dstimg.toDataURL("image/png");return e},processIMGschedule:function(){this.timerSet?this.timerValueChanged=!0:(this.timerSet=!0,setTimeout(this.timerStopFun,this.timerValue))},timerStopFun:function(){this.timerValueChanged?(this.timerValueChanged=!1,setTimeout(this.timerStopFun,this.timerValue)):(this.timerSet=!1,this.processIMG())},processIMG:function(){var e,a=window.cv,t=a.imread(this.$refs.img),n=Object(o["a"])(this.panels);try{for(n.s();!(e=n.n()).done;){var l=e.value,s=l.params;if("THRESH"===l.type)a.threshold(t,t,s.thresh,s.maxval,s.type);else if("COLOR"===l.type)a.cvtColor(t,t,s.type);else if("BLUR"===l.type){var r=new a.Size(s.ksize[0],s.ksize[1]),i=new a.Point(s.anchor[0],s.anchor[1]);a.blur(t,t,r,i,s.borderType)}else if("CANNY"===l.type){if(!this.validInputIMG(t,l,1))break;a.Canny(t,t,s.threshold1,s.threshold2,s.apertureSize,s.L2gradient)}else if("DILATE"===l.type||"ERODE"===l.type){if(!this.validInputIMG(t,l,1))break;var p=a.Mat.ones(s.kernel[0],s.kernel[1],a.CV_8U),d=new a.Point(s.anchor[0],s.anchor[1]);"ERODE"===l.type?a.erode(t,t,p,d,s.iterations,s.borderType,a.morphologyDefaultBorderValue()):a.dilate(t,t,p,d,s.iterations,s.borderType,a.morphologyDefaultBorderValue())}else if("SOBEL"===l.type){if(!this.validInputIMG(t,l,1))break;a.Sobel(t,t,s.ddepth,s.dx,s.dy,s.ksize,s.scale,s.delta,s.borderType)}}}catch(c){n.e(c)}finally{n.f()}a.imshow(this.$refs.dstimg,t)},validInputIMG:function(e,a,t){return e.channels()===t||(se["Notification"].error({title:"Error",message:"Panel ".concat(a.type,":\n          input image has ").concat(e.channels()," channels (expected ").concat(t,")")}),!1)},onloadOpenCV:function(){var e=this;window.cv["onRuntimeInitialized"]=function(){var a={};Object.assign(a,W.panelTemplates[2]),e.panels.push(a),e.loading=!1}},onResize:function(){window.innerWidth<768?this.hiddenAside=!0:this.hiddenAside=!1}},mounted:function(){var e=document.createElement("script");e.type="text/javascript",e.async="async",e.src="opencv.js",e.onload=this.onloadOpenCV,document.body.appendChild(e),window.addEventListener("resize",this.onResize),this.onResize()},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)}},oe=ie,pe=(t("953e"),Object(v["a"])(oe,r,i,!1,null,"590df516",null)),de=pe.exports,ce={name:"app",components:{CVApp:de}},ue=ce,me=(t("f0f7"),Object(v["a"])(ue,l,s,!1,null,"41b4054d",null)),fe=me.exports,ve=(t("0fae"),t("e05f"),t("b2d6")),he=t.n(ve);n["default"].use(re.a,{size:"mini",locale:he.a});t("8aa1"),t("7d05");n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(fe)}}).$mount("#app")},"69ee":function(e,a,t){},"6bba":function(e,a,t){},7019:function(e,a,t){},"7d05":function(e,a,t){},"83ab7":function(e,a,t){"use strict";var n=t("69ee"),l=t.n(n);l.a},"8aa1":function(e,a,t){},"914f":function(e,a,t){},"953e":function(e,a,t){"use strict";var n=t("6bba"),l=t.n(n);l.a},"9fd3":function(e,a,t){"use strict";var n=t("de26"),l=t.n(n);l.a},aa94:function(e,a,t){"use strict";var n=t("04d9"),l=t.n(n);l.a},abac:function(e,a,t){},d002:function(e,a,t){"use strict";var n=t("4b71"),l=t.n(n);l.a},de26:function(e,a,t){},f0f7:function(e,a,t){"use strict";var n=t("abac"),l=t.n(n);l.a},f27f:function(e,a,t){"use strict";var n=t("7019"),l=t.n(n);l.a}});
//# sourceMappingURL=app.06c416bf.js.map